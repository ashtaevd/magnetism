<!DOCTYPE html>
<html>
	<head>
		<title>Chart</title>
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script src="http://code.highcharts.com/highcharts.js"></script>
		<script src="http://code.highcharts.com/modules/exporting.js"></script>
		<script>

		$(document).ready(function(){

			$.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/f4f', function(response){

				for (var i=0; i<response.length; i++) {

	          	var tags = response[i].tags.length;
	          	console.log(tags);

	          	var comments = response[i].comments.count;
	          	console.log(comments);

	          	var likes = response[i].likes.count;
	          	console.log(likes);	 

	            // }

				var tagCount = []
	          	var commentCount = []
	          	var likeCount = []

	          	// the function

	        	var drawChart = function (likes, tags, comments) {

	        	var likeNumber = likes;
	        	likeCount.push(likeNumber);

	        	var tagNumber = tags;
	        	tagCount.push(tagNumber);

	        	var commentNumber = comments;
	        	commentCount.push(commentNumber);
	        	//var likeNumber
	        	//push likeNumber to array of likes/ series[0].data

	        	}; //close function

	        	drawChart(likes, tags, comments);

				// Chart stuff

		    	$('#container').highcharts({
		        chart: {
		            zoomType: 'xy'
		        },
		        title: {
		            text: 'Dependancy of Tags, Likes and Comments'
		        },
		        subtitle: {
		            text: 'Source: Instagram / #f4f'
		        },
		        xAxis: [{
		            categories: ['1', '2', '3', '4', '5', '6',
		                '7', '8', '9', '10', '11', '12', '13', '14', '15']
		        }],
		        yAxis: [{ // Primary yAxis
		            labels: {
		                format: '{value}',
		                style: {
		                    color: Highcharts.getOptions().colors[2]
		                }
		            },
		            title: {
		                text: 'Likes',
		                style: {
		                    color: Highcharts.getOptions().colors[2]
		                }
		            },
		            opposite: true

		        }, { // Secondary yAxis
		            gridLineWidth: 0,
		            title: {
		                text: 'Tags',
		                style: {
		                    color: Highcharts.getOptions().colors[0]
		                }
		            },
		            labels: {
		                format: '{value}',
		                style: {
		                    color: Highcharts.getOptions().colors[0]
		                }
		            }

		        }, { // Tertiary yAxis
		            gridLineWidth: 0,
		            title: {
		                text: 'Comments',
		                style: {
		                    color: Highcharts.getOptions().colors[1]
		                }
		            },
		            labels: {
		                format: '{value}',
		                style: {
		                    color: Highcharts.getOptions().colors[1]
		                }
		            },
		            opposite: true
		        }],
		        tooltip: {
		            shared: true
		        },
		        legend: {
		            layout: 'horizontal',
		            align: 'left',
		            x: 120,
		            verticalAlign: 'top',
		            y: 80,
		            floating: true,
		            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
		        },
		        series: [{
		            name: 'Tags',
		            type: 'column',
		            yAxis: 1,
		            data: tagCount,

		        }, {
		            name: 'Comments',
		            type: 'spline',
		            yAxis: 2,
		            data: commentCount,
		            marker: {
		                enabled: true
		            },
		            dashStyle: 'shortdot',

		        }, {
		            name: 'Likes',
		            type: 'spline',
		            data: likeCount,

		        }]
		    }); //closes the chart stuff
			
			} //closes for loop

     	}); //closes instagram JSON

    }); //closes jQuery

    	</script>
		<style>

		</style>
	<head>
	<body>
		<div id="container" style="min-width: 310px; height: 600px; margin: 0 auto"></div>
	</body>
</html>